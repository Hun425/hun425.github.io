<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AlgoReport | 채기훈</title>
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.8/dist/web/static/pretendard.css" />
</head>
<body>

    <div class="detail-page">
        <nav class="detail-nav">
            <a href="../index.html" class="back-link">&larr; 돌아가기</a>
        </nav>

        <header class="detail-header">
            <div class="detail-header-top">
                <h1>AlgoReport</h1>
                <span class="period">개인 프로젝트 | 2025.04 ~ Current</span>
            </div>
            <p class="detail-role">알고리즘 커리큘럼 추천 서비스</p>
            <div class="tags">
                <span class="tag">Kotlin</span>
                <span class="tag">Spring Boot</span>
                <span class="tag">Kafka</span>
                <span class="tag">PostgreSQL</span>
                <span class="tag">Debezium</span>
            </div>
        </header>

        <section class="detail-section">
            <h2>프로젝트 개요</h2>
            <p>
                사용자의 알고리즘 풀이 데이터를 분석하여 맞춤형 커리큘럼을 제공하는 서비스입니다.
                여러 모듈에 걸친 비즈니스 로직에서 데이터 정합성을 보장하기 위해 Saga 및 Outbox 패턴을 적용한 분산 트랜잭션 처리가 핵심입니다.
            </p>
        </section>

        <!-- ===== Saga & Outbox 패턴 ===== -->
        <section class="detail-section">
            <h2>Saga 및 Outbox 패턴 기반의 분산 트랜잭션 구현</h2>

            <div class="image-placeholder">
                <img src="../images/algoreport-saga-architecture.png" alt="Saga & Outbox 패턴 아키텍처"
                     onerror="this.style.display='none'; this.parentElement.querySelector('.fallback').style.display='block';">
                <p class="fallback" style="display:none;">algoreport-saga-architecture.png</p>
            </div>

            <h3 class="subsection-title">배경 및 문제 원인</h3>
            <ul class="detail-list">
                <li>여러 모듈에 걸쳐 실행되는 비즈니스 로직(예: 사용자 가입 시 프로필 생성 및 환영 알림 등)에서 <strong>데이터 정합성 보장</strong> 요구사항 발생</li>
                <li>모듈형 모놀리스 또는 마이크로서비스 환경에서는 단일 ACID 트랜잭션으로 모든 데이터 변경을 묶을 수 없어, 처리 과정 중 일부 장애 시 데이터 불일치 문제 발생</li>
            </ul>

            <h3 class="subsection-title">해결 과정</h3>
            <ul class="detail-list">
                <li>분산 트랜잭션 문제를 해결하기 위해 <strong>Saga 패턴(Orchestration-based)</strong> 도입</li>
                <li>각 비즈니스 로직을 여러 단계의 로컬 트랜잭션으로 분리하고, 실패 시 <strong>보상 트랜잭션(Compensating Transaction)</strong>을 실행하여 데이터 일관성을 최종적으로 보장</li>
                <li><code>UserRegistrationSaga</code>, <code>InitialDataSyncSaga</code> 등 각 시나리오에 맞는 Saga 구현체를 작성하여 트랜잭션 흐름을 중앙에서 관리(Orchestrator)</li>
                <li>로컬 트랜잭션 커밋과 이벤트 메시지 발행을 원자적으로 보장하기 위해 <strong>Outbox 패턴</strong> 적용</li>
                <li>비즈니스 데이터 변경과 발행할 이벤트를 동일한 DB 트랜잭션으로 묶어 <code>outbox_events</code> 테이블에 저장</li>
                <li>별도의 이벤트 발행기(<strong>Debezium</strong>)가 Outbox 테이블을 폴링하여 메시지 브로커(Kafka)에 이벤트를 안정적으로 발행 &mdash; <strong>'최소 한 번 발행(At-Least-Once Delivery)'</strong> 보장</li>
            </ul>

            <h3 class="subsection-title">결과</h3>
            <ul class="detail-list result-list">
                <li>특정 모듈의 장애가 전체 시스템의 데이터 불일치로 확산되는 것을 방지하여 시스템의 <strong>안정성과 회복탄력성(Resilience)</strong> 향상</li>
                <li>Saga 패턴을 통해 각 모듈의 비즈니스 로직이 명확해지고, 모듈 간의 <strong>결합도를 낮추어 유지보수성 및 확장성</strong> 확보</li>
            </ul>
        </section>

        <footer class="detail-footer">
            <a href="../index.html" class="back-link">&larr; 돌아가기</a>
        </footer>
    </div>
    <!-- GoatCounter -->
    <script data-goatcounter="https://hun425.goatcounter.com/count"
            async src="//gc.zgo.at/count.js"></script>
</body>
</html>
